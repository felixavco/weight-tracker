{"version":3,"sources":["../../src/server/index.js"],"names":["Server","constructor","PORT","MONGO_URI","server","config","routes","use","express","urlencoded","extended","json","passport","initialize","UserRoutes","req","res","send","start","mongoose","connect","useNewUrlParser","useCreateIndex","then","console","log","listen","catch","err","error"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;AACA;;AACA;;AACA;;AAGA;;;;AADA;AAGA,MAAMA,MAAN,CAAa;AACTC,EAAAA,WAAW,CAACC,IAAD,EAAOC,SAAP,EAAkB;AACzB,SAAKD,IAAL,GAAYA,IAAZ;AACA,SAAKC,SAAL,GAAiBA,SAAjB;AACA,SAAKC,MAAL,GAAc,uBAAd;AACA,SAAKC,MAAL;AACA,SAAKC,MAAL;AACH;;AAEDD,EAAAA,MAAM,GAAG;AACL,SAAKD,MAAL,CAAYG,GAAZ,CAAgB,oBAAhB;AACA,SAAKH,MAAL,CAAYG,GAAZ,CAAgB,qBAAO,KAAP,CAAhB;AACA,SAAKH,MAAL,CAAYG,GAAZ,CAAgBC,iBAAQC,UAAR,CAAmB;AAAEC,MAAAA,QAAQ,EAAE;AAAZ,KAAnB,CAAhB;AACA,SAAKN,MAAL,CAAYG,GAAZ,CAAgBC,iBAAQG,IAAR,EAAhB;AACA,SAAKP,MAAL,CAAYG,GAAZ,CAAgBK,kBAASC,UAAT,EAAhB;AACA,8BAAYD,iBAAZ;AACH;;AAEDN,EAAAA,MAAM,GAAG;AACL,SAAKF,MAAL,CAAYG,GAAZ,CAAgB,WAAhB,EAA6BO,mBAA7B;AACA,SAAKV,MAAL,CAAYG,GAAZ,CAAgB,IAAhB,EAAsB,CAACQ,GAAD,EAAMC,GAAN,KAAcA,GAAG,CAACC,IAAJ,CAAS,wBAAT,CAApC;AACH;;AAEDC,EAAAA,KAAK,GAAG;AACJC,sBACKC,OADL,CACa,KAAKjB,SADlB,EAC6B;AACrBkB,MAAAA,eAAe,EAAE,IADI;AAEjCC,MAAAA,cAAc,EAAE;AAFiB,KAD7B,EAKKC,IALL,CAKU,MAAM;AACRC,MAAAA,OAAO,CAACC,GAAR,CAAY,iBAAZ;AACA,WAAKrB,MAAL,CAAYsB,MAAZ,CAAmB,KAAKxB,IAAxB,EAA8B,MAAM;AAChCsB,QAAAA,OAAO,CAACC,GAAR,CAAY,+BAA+B,KAAKvB,IAAhD;AACH,OAFD;AAGH,KAVL,EAWKyB,KAXL,CAWYC,GAAD,IAASJ,OAAO,CAACK,KAAR,CAAcD,GAAd,CAXpB;AAYH;;AApCQ;;eAwCE5B,M","sourcesContent":["import express from 'express';\r\nimport cors from 'cors';\r\nimport morgan from 'morgan';\r\nimport mongoose from 'mongoose';\r\nimport passport from 'passport';\r\nimport passportJWT from './passportJWT';\r\n\r\n//* Routes\r\nimport UserRoutes from '../routes/UserRoutes';\r\n\r\nclass Server {\r\n    constructor(PORT, MONGO_URI) {\r\n        this.PORT = PORT;\r\n        this.MONGO_URI = MONGO_URI;\r\n        this.server = express();\r\n        this.config();\r\n        this.routes();\r\n    }\r\n\r\n    config() {\r\n        this.server.use(cors());\r\n        this.server.use(morgan('dev'));\r\n        this.server.use(express.urlencoded({ extended: false }));\r\n        this.server.use(express.json());\r\n        this.server.use(passport.initialize());\r\n        passportJWT(passport);\r\n    }\r\n\r\n    routes() {\r\n        this.server.use('/api/user', UserRoutes);\r\n        this.server.use('**', (req, res) => res.send('Welcome to my Rest API'))\r\n    }\r\n\r\n    start() {\r\n        mongoose\r\n            .connect(this.MONGO_URI, {\r\n                useNewUrlParser: true,\r\n\t\t\t\tuseCreateIndex: true\r\n            })\r\n            .then(() => {\r\n                console.log('Connected to DB');\r\n                this.server.listen(this.PORT, () => {\r\n                    console.log('-> Server started on port ' + this.PORT);\r\n                });\r\n            })\r\n            .catch((err) => console.error(err));\r\n    }\r\n\r\n}\r\n\r\nexport default Server;\r\n\r\n"],"file":"index.js"}